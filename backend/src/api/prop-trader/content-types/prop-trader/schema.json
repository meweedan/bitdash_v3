{
  "kind": "collectionType",
  "collectionName": "prop_traders",
  "info": {
    "singularName": "prop-trader",
    "pluralName": "prop-traders",
    "displayName": "Prop Trader",
    "description": "BitFund proprietary traders"
  },
  "options": {
    "draftAndPublish": false,
    "timestamps": true
  },
  "attributes": {
    "users_permissions_user": {
      "type": "relation",
      "relation": "oneToOne",
      "target": "plugin::users-permissions.user",
      "inversedBy": "prop_trader"
    },
    "status": {
      "type": "enumeration",
      "enum": ["pending", "challenge", "funded", "suspended", "terminated"],
      "default": "pending"
    },
    "challenge_type": {
      "type": "enumeration",
      "enum": ["standard", "professional", "elite", "institutional"],
      "default": "standard"
    },
    "account_size": {
      "type": "decimal",
      "default": 10000
    },
    "profit_target": {
      "type": "decimal",
      "default": 8
    },
    "max_drawdown": {
      "type": "decimal",
      "default": 5
    },
    "current_balance": {
      "type": "decimal",
      "default": 10000
    },
    "profit_loss": {
      "type": "decimal",
      "default": 0
    },
    "trading_metrics": {
      "type": "json"
    },
    "challenge_start_date": {
      "type": "datetime"
    },
    "challenge_end_date": {
      "type": "datetime"
    },
    "funding_date": {
      "type": "datetime"
    },
    "wallet": {
      "type": "relation",
      "relation": "oneToOne",
      "target": "api::wallet.wallet",
      "inversedBy": "prop_trader"
    },
    "trading_history": {
      "type": "relation",
      "relation": "oneToMany",
      "target": "api::transaction.transaction",
      "mappedBy": "prop_trader"
    },
    "funded_by": {
      "type": "relation",
      "relation": "manyToMany",
      "target": "api::investor.investor",
      "inversedBy": "fundedTraders"
    },
    "referredBy": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::introducing-broker.introducing-broker",
      "inversedBy": "referredPropTraders"
    },
    "profitSplitRatio": {
      "type": "decimal",
      "default": 80,
      "comment": "Percentage of profits that goes to the trader (e.g., 80%)"
    },
    "dailyDrawdownLimit": {
      "type": "decimal",
      "default": 2,
      "comment": "Maximum daily drawdown percentage allowed"
    },
    "tradingRules": {
      "type": "json",
      "comment": "Custom rules for this trader"
    },
    "tradingPreferences": {
      "type": "json",
      "comment": "Trader's preferences for markets, instruments, etc."
    },
    "agreedToTerms": {
      "type": "boolean",
      "default": false,
      "required": true
    },
    "agreement": {
      "type": "json",
      "comment": "Terms agreed to by the trader"
    },
    "kycVerified": {
      "type": "boolean",
      "default": false
    },
    "preferredPayoutMethod": {
      "type": "json"
    },
    "notes": {
      "type": "text"
    },
    "challenge": {
      "type": "relation",
      "relation": "oneToOne",
      "target": "api::challenge.challenge",
      "mappedBy": "prop-trader"
    }
  }
}